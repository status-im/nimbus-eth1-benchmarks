2024-12-12 07:41:34 - >>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh
Removing blocks-import-benchmark.csv
/
2024-12-12 07:41:34 - >>> completed cleanBenchmarkDir()
2024-12-12 07:41:34 - >>> starting cloneOrFetchRepo() inside build-and-update-nimbus.sh
2024-12-12 07:41:34 - >>> Fetching latest changes...
HEAD is now at 674e65f3 Move EVM code initialization outside of newComputation (#2926)
2024-12-12 07:41:34 - >>> completed cloneOrFetchRepo()
2024-12-12 07:41:34 - >>> starting buildBinaries()
2024-12-12 07:41:34 - >>> Binaries already exist for commit 674e65f3, no need to build a new nimbus binary!
2024-12-12 07:41:34 - skip regenerateNimbusDatabaseFromTemplate() if we have already executed benchmarking for the commit 674e65f3
2024-12-12 07:41:34 - find /home/data/nimbus-eth1-benchmarks/short-benchmark -type f -name *674e65f3* 2>/dev/null | wc -l
2024-12-12 07:41:34 - >>> starting regenerateNimbusDatabaseFromTemplate()
2024-12-12 07:41:34 - >>> Cleaning up existing database files with rm -rf /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo/*
2024-12-12 07:41:34 - rm -rf /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo/*
2024-12-12 07:41:34 - >>> Creating /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo with permissions
2024-12-12 07:41:34 - mkdir -p /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo
2024-12-12 07:41:34 - chmod 0755 /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo
2024-12-12 07:41:34 - >>> Copying template db into nimbus data directory
2024-12-12 07:41:34 - cp -r /data/template-db/. /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo/
2024-12-12 07:44:39 - >>> Template db copied
2024-12-12 07:44:39 - chown -R nimbus:staff /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo
2024-12-12 07:44:39 - >>> completed regenerateNimbusDatabaseFromTemplate()
2024-12-12 07:44:39 - >>> starting cloneOrFetchRepo() inside fetch-benchmarks.sh
2024-12-12 07:44:39 - >>> creating directory /home/data/nimbus-eth1-benchmarks
2024-12-12 07:44:39 - >>> Fetching latest benchmarks from github
HEAD is now at c3de2e5 debug: publish metrics and report for 5000 blocks
2024-12-12 07:44:40 - >>> completed cloneOrFetchRepo()
INF 2024-12-12 07:44:40.602+00:00 Launching execution client                 version=v0.1.0-674e65f3 conf="(dataDir: /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0, era1DirOpt: some(/data/era1), eraDirOpt: some(/data/era), keyStore: /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/keystore, chainDbMode: Aristo, importKey: , verifyFrom: none(uint64), evm: \"\", trustedSetupFile: none(string), extraData: \"nimbus-eth1/v0.1.0-674e65f3\", network: \"mainnet\", customNetwork: none(NetworkParams), networkId: 1, networkParams: (config: ..., genesis: ...), logLevel: INFO, logFile: none(OutFile), logMetricsEnabled: false, logMetricsInterval: 10, metricsEnabled: false, metricsPort: 9093, metricsAddress: 127.0.0.1, bootstrapNodes: @[], bootstrapFile: , bootstrapEnrs: @[], staticPeers: @[], staticPeersFile: , staticPeersEnrs: @[], reconnectMaxRetry: 0, reconnectInterval: 15, listenAddress: ::, tcpPort: 30303, udpPort: 0, maxPeers: 25, nat: (hasExtIp: false, nat: NatAny), discovery: V4, netKey: \"random\", agentString: \"nimbus-eth1/v0.1.0-674e65f3/linux-amd64/Nim-2.0.12/nimvm\", beaconChunkSize: 0, rocksdbMaxOpenFiles: 2048, rocksdbWriteBufferSize: 67108864, rocksdbRowCacheSize: 0, rocksdbBlockCacheSize: 2684354560, rdbVtxCacheSize: 536870912, rdbKeyCacheSize: 268435456, rdbBranchCacheSize: 1073741824, rdbPrintStats: false, cmd: import, maxBlocks: 5000, chunkSize: 8192, csvStats: some(\"/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv\"), fullValidation: false, noValidation: true, storeBodies: false, storeReceipts: false, storeSlotHashes: false)"
2024-12-12 07:44:47 - >>> starting moveBenchmarkingFileToRepo() inside publish-metrics-github.sh
2024-12-12 07:44:47 - >>> creating directory /home/data/nimbus-eth1-benchmarks/short-benchmark/20241212T074447_674e65f3
2024-12-12 07:44:47 - >>> copying debug-csv generated by nimbus to benchmarks repo
2024-12-12 07:44:47 - cp /home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv /home/data/nimbus-eth1-benchmarks/short-benchmark/20241212T074447_674e65f3/blocks-import-benchmark.csv
cp: cannot stat '/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv': No such file or directory
2024-12-12 07:46:47 - >>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh
Removing short-benchmark/20241212T074447_674e65f3/
/
2024-12-12 07:46:47 - >>> completed cleanBenchmarkDir()
2024-12-12 07:46:47 - >>> starting cloneOrFetchRepo() inside build-and-update-nimbus.sh
2024-12-12 07:46:47 - >>> Fetching latest changes...
HEAD is now at 674e65f3 Move EVM code initialization outside of newComputation (#2926)
2024-12-12 07:46:47 - >>> completed cloneOrFetchRepo()
2024-12-12 07:46:47 - >>> starting buildBinaries()
2024-12-12 07:46:47 - >>> Building binaries...
2024-12-12 07:46:47 - >>> make -j16 update
2024-12-12 07:47:26 - >>> make -j16 nimbus_execution_client LOG_LEVEL=TRACE NIMFLAGS=-d:chronicles_colors=none -d:disableMarchNative
make[1]: Entering directory '/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
$DEBUG_LEVEL is 0, $LIB_MODE is static
[92mBuilding:[39m install/usr/lib/libbacktracenim.a
make[1]: Leaving directory '/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
Cleaning up RocksDb build artifacts.
find: â€˜./zstd-1.5.5â€™: No such file or directory
make[1]: *** [Makefile:1258: clean-rocks] Error 1
Building RocksDb static libraries.
    %%  TToottaall        %%  RReecceeiivveedd  %%  XXffeerrdd    AAvveerraaggee  SSppeeeedd      TTiimmee        TTiimmee          TTiimmee    CCuurrrreenntt

                                                                  DDllooaadd    UUppllooaadd      TToottaall      SSppeenntt        LLeeft  Sfpte e dS
pe e d0
      0  0        00        0  0        00        0  0        0    0        0    0   - - :0- --:--:-- --:--:-- --:--:-- --:--:-- --:--:-- - : - -  0    0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0 2330k    0 13157    0     0  23689      0  0:01:40 --:--:--  0:01:40 23689 54  345k   54  189k    0     0   330k      0  0:00:01 --:--:--  0:00:01  330k100  345k  100  345k    0     0   572k      0 --:--:-- --:--:-- --:--:-- 5217k
100 2330k  100 2330k    0     0  3017k      0 --:--:-- --:--:-- --:--:-- 10.4M
/usr/bin/ar: creating unity.a
[92mBuilding:[39m build/nimbus_execution_client
/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/nimbus/compile_info.nim(34, 10) Warning: *** Compiling with nimvm enabled [User]
/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/nimbus/graphql/ethapi.nim(323, 14) Warning: LedgerRef does not support loading a particular state; getStateDB is deprecated [Deprecated]
2024-12-12 07:52:25 - >>> renaming binaries to match commit they were built from
2024-12-12 07:52:25 - mv build/nimbus_execution_client build/nimbus_execution_client_674e65f3
2024-12-12 07:52:25 - creating a symbolic link to the latest version
2024-12-12 07:52:25 - ln -frs build/nimbus_execution_client_674e65f3 build/nimbus_execution_client
2024-12-12 07:52:25 - deleting copies that are older than N days
2024-12-12 07:52:25 - find build -mtime +3 -exec rm '{}' \+
2024-12-12 07:52:25 - >>> buildBinaries() complete
2024-12-12 07:52:25 - skip regenerateNimbusDatabaseFromTemplate() if we have already executed benchmarking for the commit 674e65f3
2024-12-12 07:52:25 - find /home/data/nimbus-eth1-benchmarks/short-benchmark -type f -name *674e65f3* 2>/dev/null | wc -l
2024-12-12 07:52:25 - >>> starting regenerateNimbusDatabaseFromTemplate()
2024-12-12 07:52:25 - >>> Cleaning up existing database files with rm -rf /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo/*
2024-12-12 07:52:25 - rm -rf /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo/*
2024-12-12 07:52:25 - >>> Creating /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo with permissions
2024-12-12 07:52:25 - mkdir -p /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo
2024-12-12 07:52:25 - chmod 0755 /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo
2024-12-12 07:52:25 - >>> Copying template db into nimbus data directory
2024-12-12 07:52:25 - cp -r /data/template-db/. /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo/
2024-12-12 07:55:55 - >>> Template db copied
2024-12-12 07:55:55 - chown -R nimbus:staff /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/nimbus/aristo
2024-12-12 07:55:55 - >>> completed regenerateNimbusDatabaseFromTemplate()
2024-12-12 07:55:55 - >>> starting cloneOrFetchRepo() inside fetch-benchmarks.sh
2024-12-12 07:55:55 - >>> creating directory /home/data/nimbus-eth1-benchmarks
2024-12-12 07:55:55 - >>> Fetching latest benchmarks from github
HEAD is now at c3de2e5 debug: publish metrics and report for 5000 blocks
2024-12-12 07:55:56 - >>> completed cloneOrFetchRepo()
INF 2024-12-12 07:55:56.906+00:00 Launching execution client                 version=v0.1.0-674e65f3 conf="(dataDir: /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0, era1DirOpt: some(/data/era1), eraDirOpt: some(/data/era), keyStore: /home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0/keystore, chainDbMode: Aristo, importKey: , verifyFrom: none(uint64), evm: \"\", trustedSetupFile: none(string), extraData: \"nimbus-eth1/v0.1.0-674e65f3\", network: \"mainnet\", customNetwork: none(NetworkParams), networkId: 1, networkParams: (config: ..., genesis: ...), logLevel: INFO, logFile: none(OutFile), logMetricsEnabled: false, logMetricsInterval: 10, metricsEnabled: false, metricsPort: 9093, metricsAddress: 127.0.0.1, bootstrapNodes: @[], bootstrapFile: , bootstrapEnrs: @[], staticPeers: @[], staticPeersFile: , staticPeersEnrs: @[], reconnectMaxRetry: 0, reconnectInterval: 15, listenAddress: ::, tcpPort: 30303, udpPort: 0, maxPeers: 25, nat: (hasExtIp: false, nat: NatAny), discovery: V4, netKey: \"random\", agentString: \"nimbus-eth1/v0.1.0-674e65f3/linux-amd64/Nim-2.0.12/nimvm\", beaconChunkSize: 0, rocksdbMaxOpenFiles: 2048, rocksdbWriteBufferSize: 67108864, rocksdbRowCacheSize: 0, rocksdbBlockCacheSize: 2684354560, rdbVtxCacheSize: 536870912, rdbKeyCacheSize: 268435456, rdbBranchCacheSize: 1073741824, rdbPrintStats: false, cmd: import, maxBlocks: 5000, chunkSize: 8192, csvStats: some(\"/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv\"), fullValidation: false, noValidation: true, storeBodies: false, storeReceipts: false, storeSlotHashes: false)"
INF 2024-12-12 07:56:07.330+00:00 Database initialized                       base="(0x90d87c178abca118f5cfe4b06b7fae7604e41a7710fbe5f5b79514ef3e5b777f, 20005000)" finalized="(0x90d87c178abca118f5cfe4b06b7fae7604e41a7710fbe5f5b79514ef3e5b777f, 20005000)" head="(0x90d87c178abca118f5cfe4b06b7fae7604e41a7710fbe5f5b79514ef3e5b777f, 20005000)"
NTC 2024-12-12 07:56:07.330+00:00 Importing era archive                      blockNumber=20005001 dataDir=/home/data/nimbus-eth1-mainnet-master-short-benchmark/data/shared_mainnet_0 eraDir=/data/era
NTC 2024-12-12 07:56:08.954+00:00 Resuming import from                       importedSlot=9209812
INF 2024-12-12 07:59:45.982+00:00 Imported blocks                            blockNumber=20010001 blocks=5000 importedSlot=9214836 txs=763024 mgas=75603.867 bps=23.532 tps=3591.117 mgps=355.824 avgBps=22.896 avgTps=3494.102 avgMGps=346.211 elapsed=3m38s374ms
2024-12-12 07:59:46 - >>> starting moveBenchmarkingFileToRepo() inside publish-metrics-github.sh
2024-12-12 07:59:46 - >>> creating directory /home/data/nimbus-eth1-benchmarks/short-benchmark/20241212T075946_674e65f3
2024-12-12 07:59:46 - >>> copying debug-csv generated by nimbus to benchmarks repo
2024-12-12 07:59:46 - cp /home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv /home/data/nimbus-eth1-benchmarks/short-benchmark/20241212T075946_674e65f3/blocks-import-benchmark.csv
2024-12-12 07:59:46 - >>> completed moveBenchmarkingFileToRepo()
2024-12-12 07:59:46 - >>> copying import systemd service log file to benchmarks repo
2024-12-12 07:59:46 - cp /home/data/nimbus-eth1-mainnet-master-short-benchmark-output.log /home/data/nimbus-eth1-benchmarks/short-benchmark/20241212T075946_674e65f3/nimbus-eth1-mainnet-master-short-benchmark-output.log
2024-12-12 07:59:46 - >>> truncating import systemd service log file
2024-12-12 07:59:46 - cat /dev/null > /home/data/nimbus-eth1-mainnet-master-short-benchmark-output.log
