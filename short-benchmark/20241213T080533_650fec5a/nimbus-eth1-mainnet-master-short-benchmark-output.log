2024-12-13 07:43:14 - >>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh
Removing blocks-import-benchmark.csv
/
2024-12-13 07:43:14 - >>> completed cleanBenchmarkDir()
2024-12-13 07:43:14 - >>> starting cloneOrFetchRepo() inside build-and-update-nimbus.sh
2024-12-13 07:43:14 - >>> cleaning repo
2024-12-13 07:43:14 - git clean -fdx > /dev/null 2>&1
2024-12-13 07:43:14 - git submodule foreach --recursive git clean -fdx > /dev/null 2>&1
2024-12-13 07:43:20 - >>> Fetching latest changes...
From https://github.com/status-im/nimbus-eth1
   a57958f7..650fec5a  master     -> origin/master
HEAD is now at 650fec5a Wire ForkedChainRef to graphql and rpc_utils (#2936)
2024-12-13 07:43:21 - >>> completed cloneOrFetchRepo()
2024-12-13 07:43:21 - >>> starting buildBinaries()
2024-12-13 07:43:21 - >>> Building binaries...
2024-12-13 07:43:21 - >>> make -j16 update
[92mBuilding:[39m Nim compiler
2024-12-13 07:44:58 - >>> make -j16 nimbus_execution_client LOG_LEVEL=DEBUG NIMFLAGS=-d:chronicles_colors=none -d:disableMarchNative
[92mBuilding:[39m install/usr/lib/libbacktrace.a
make[1]: Entering directory '/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
$DEBUG_LEVEL is 0, $LIB_MODE is static
make[1]: Leaving directory '/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
Cleaning up RocksDb build artifacts.
/bin/sh: 1: javac: not found
Building RocksDb static libraries.
[92mBuilding:[39m install/usr/lib/libbacktracenim.a
  % Total    % Received  %  %X fTeortda l  A v e r%a gRee cSepieveedd   %  TXifmeer d     ATviemrea g e   S pTeiemde     CTuirmree n t 
  T i m e           T i m e     C u r r e n t 
                    D l o a d     U p l o a d       T o t a l      DSlpoeandt    U p lLoeafdt     STpoeteadl
     S0p e n t    0    L e f0t     S p e0e d 
   0  0        0  0         00          0  0   - -0: - - : - -0  - - : - - :0- -   - - : -0- :----: - - : - -0 --:--:-- --:--:--     0    00          00        00          00        00          00            00            00  ----::----::----  ----::----::----  ----::----::----          00  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  345k  100  345k    0     0   517k      0 --:--:-- --:--:-- --:--:--  517k
100 2330k  100 2330k    0     0  3004k      0 --:--:-- --:--:-- --:--:-- 3004k
make[1]: *** [Makefile:2569: unity.o] Terminated
make: *** [Makefile:236: rocksdb] Terminated
2024-12-13 07:47:14 - >>> starting moveBenchmarkingFileToRepo() inside publish-metrics-github.sh
2024-12-13 07:47:14 - >>> creating directory /home/data/nimbus-eth1-benchmarks/short-benchmark/20241213T074714_650fec5a
2024-12-13 07:47:14 - >>> copying debug-csv generated by nimbus to benchmarks repo
2024-12-13 07:47:14 - cp /home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv /home/data/nimbus-eth1-benchmarks/short-benchmark/20241213T074714_650fec5a/blocks-import-benchmark.csv
cp: cannot stat '/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv': No such file or directory
2024-12-13 07:51:34 - >>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh
Removing short-benchmark/20241213T074714_650fec5a/
/
2024-12-13 07:51:34 - >>> completed cleanBenchmarkDir()
2024-12-13 07:51:34 - >>> starting cloneOrFetchRepo() inside build-and-update-nimbus.sh
2024-12-13 07:51:34 - >>> cleaning repo
2024-12-13 07:51:34 - git clean -fdx > /dev/null 2>&1
2024-12-13 07:51:34 - git submodule foreach --recursive git clean -fdx > /dev/null 2>&1
2024-12-13 07:51:34 - >>> Fetching latest changes...
HEAD is now at 650fec5a Wire ForkedChainRef to graphql and rpc_utils (#2936)
2024-12-13 07:51:35 - >>> completed cloneOrFetchRepo()
2024-12-13 07:51:35 - >>> starting buildBinaries()
2024-12-13 07:51:35 - >>> Building binaries...
2024-12-13 07:51:35 - >>> make -j16 update
[92mBuilding:[39m Nim compiler
2024-12-13 07:53:11 - >>> make -j16 nimbus_execution_client LOG_LEVEL=DEBUG NIMFLAGS=-d:chronicles_colors=none -d:disableMarchNative
[92mBuilding:[39m install/usr/lib/libbacktrace.a
make[1]: Entering directory '/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
$DEBUG_LEVEL is 0, $LIB_MODE is static
make[1]: Leaving directory '/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
Cleaning up RocksDb build artifacts.
/bin/sh: 1: javac: not found
Building RocksDb static libraries.
[92mBuilding:[39m install/usr/lib/libbacktracenim.a
    %%  TToottaall        %%  RReecceeiivveedd  %%  XXffeerrdd    AAvveerraaggee  SSppeeeedd      TTiimmee        TTiimmee          TTiimmee    CCuurrrreenntt

                                                                 D lDolaoda  dU p lUopaldo a d  T o tTaolt a l  S p eSnpte n t    L e fLte f tS p eSepde
ed 
 0    0      0    0    0    0      0    0    0    0      0    0        0    0        0   -0- :----::----: ---- :----::----: ---- :----::----: - -      0  0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  345k  100  345k    0     0   607k      0 --:--:-- --:--:-- --:--:--  607k
100 2330k  100 2330k    0     0  3392k      0 --:--:-- --:--:-- --:--:-- 3392k
/usr/bin/ar: creating unity.a
[92mBuilding:[39m build/nimbus_execution_client
/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/nimbus/compile_info.nim(34, 10) Warning: *** Compiling with nimvm enabled [User]
/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/nimbus/evm/precompiles.nim(350, 26) Warning: toBytesBE; toBytes is deprecated [Deprecated]
/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/nimbus/evm/precompiles.nim(368, 28) Warning: toBytesBE; toBytes is deprecated [Deprecated]
/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/nimbus/graphql/ethapi.nim(325, 14) Warning: LedgerRef does not support loading a particular state; getStateDB is deprecated [Deprecated]
2024-12-13 07:58:12 - >>> renaming binaries to match commit they were built from
2024-12-13 07:58:12 - mv build/nimbus_execution_client build/nimbus_execution_client_650fec5a
2024-12-13 07:58:12 - creating a symbolic link to the latest version
2024-12-13 07:58:12 - ln -frs build/nimbus_execution_client_650fec5a build/nimbus_execution_client
2024-12-13 07:58:12 - deleting copies that are older than N days
2024-12-13 07:58:12 - find build -mtime +3 -exec rm '{}' \+
2024-12-13 07:58:12 - >>> buildBinaries() complete
2024-12-13 07:58:12 - skip copyTemplateDatabase() if we have already executed benchmarking for the commit 650fec5a
2024-12-13 07:58:12 - find /home/data/nimbus-eth1-benchmarks/short-benchmark -type f -name *650fec5a* 2>/dev/null | wc -l
2024-12-13 07:58:12 - BENCHMARK_EXISTS=0
2024-12-13 07:58:12 - >>> starting copyTemplateDatabase()
2024-12-13 07:58:12 - mkdir -p /home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/data/shared_mainnet_0
2024-12-13 07:58:12 - >>> Copying template db into nimbus data directory
2024-12-13 07:58:12 - cp -r /data/template-db/. /home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/data/shared_mainnet_0/
2024-12-13 08:01:04 - >>> Template db copied
2024-12-13 08:01:04 - chown -R nimbus:staff /home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/data/shared_mainnet_0
2024-12-13 08:01:04 - >>> completed copyTemplateDatabase()
2024-12-13 08:01:04 - >>> starting cloneOrFetchRepo() inside fetch-benchmarks.sh
2024-12-13 08:01:04 - >>> creating directory /home/data/nimbus-eth1-benchmarks
2024-12-13 08:01:04 - >>> Fetching latest benchmarks from github
HEAD is now at 1b16a00 /home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/scripts/block-import-stats.py
2024-12-13 08:01:06 - >>> completed cloneOrFetchRepo()
INF 2024-12-13 08:01:06.749+00:00 Launching execution client                 version=v0.1.0-650fec5a conf="(dataDir: /home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/data/shared_mainnet_0, era1DirOpt: some(/data/era1), eraDirOpt: some(/data/era), keyStore: /home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/data/shared_mainnet_0/keystore, chainDbMode: Aristo, importKey: , evm: \"\", trustedSetupFile: none(string), extraData: \"nimbus-eth1/v0.1.0-650fec5a\", gasLimit: 30000000, network: \"mainnet\", customNetwork: none(NetworkParams), networkId: 1, networkParams: (config: ..., genesis: ...), logLevel: INFO, logFile: none(OutFile), logMetricsEnabled: false, logMetricsInterval: 10, metricsEnabled: false, metricsPort: 9093, metricsAddress: 127.0.0.1, bootstrapNodes: @[], bootstrapFile: , bootstrapEnrs: @[], staticPeers: @[], staticPeersFile: , staticPeersEnrs: @[], reconnectMaxRetry: 0, reconnectInterval: 15, listenAddress: ::, tcpPort: 30303, udpPort: 0, maxPeers: 25, nat: (hasExtIp: false, nat: NatAny), discovery: V4, netKey: \"random\", agentString: \"nimbus-eth1/v0.1.0-650fec5a/linux-amd64/Nim-2.0.12/nimvm\", numThreads: 0, beaconChunkSize: 0, rocksdbMaxOpenFiles: 2048, rocksdbWriteBufferSize: 67108864, rocksdbRowCacheSize: 0, rocksdbBlockCacheSize: 2684354560, rdbVtxCacheSize: 536870912, rdbKeyCacheSize: 268435456, rdbBranchCacheSize: 1073741824, rdbPrintStats: false, cmd: import, maxBlocks: 5000, chunkSize: 8192, csvStats: some(\"/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv\"), fullValidation: false, noValidation: true, storeBodies: false, storeReceipts: false, storeSlotHashes: false)"
INF 2024-12-13 08:01:09.201+00:00 Threadpool started                         numThreads=16
INF 2024-12-13 08:01:09.277+00:00 Database initialized                       base="(0xd24fd73f794058a3807db926d8898c6481e902b7edb91ce0d479d6760f276183, 20000000)" finalized="(0xd24fd73f794058a3807db926d8898c6481e902b7edb91ce0d479d6760f276183, 20000000)" head="(0xd24fd73f794058a3807db926d8898c6481e902b7edb91ce0d479d6760f276183, 20000000)"
NTC 2024-12-13 08:01:09.277+00:00 Importing era archive                      blockNumber=20000001 dataDir=/home/data/nimbus-eth1-mainnet-master-short-benchmark/repo/data/shared_mainnet_0 eraDir=/data/era
NTC 2024-12-13 08:01:10.849+00:00 Resuming import from                       importedSlot=9204783
INF 2024-12-13 08:05:32.876+00:00 Imported blocks                            blockNumber=20005001 blocks=5000 importedSlot=9209812 txs=736412 mgas=75927.329 bps=19.400 tps=2857.259 mgps=294.596 avgBps=18.989 avgTps=2796.760 avgMGps=288.358 elapsed=4m23s309ms
2024-12-13 08:05:33 - >>> starting moveBenchmarkingFileToRepo() inside publish-metrics-github.sh
2024-12-13 08:05:33 - >>> creating directory /home/data/nimbus-eth1-benchmarks/short-benchmark/20241213T080533_650fec5a
2024-12-13 08:05:33 - >>> copying debug-csv generated by nimbus to benchmarks repo
2024-12-13 08:05:33 - cp /home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv /home/data/nimbus-eth1-benchmarks/short-benchmark/20241213T080533_650fec5a/blocks-import-benchmark.csv
2024-12-13 08:05:33 - >>> completed moveBenchmarkingFileToRepo()
2024-12-13 08:05:33 - >>> copying import systemd service log file to benchmarks repo
2024-12-13 08:05:33 - cp /home/data/nimbus-eth1-mainnet-master-short-benchmark-output.log /home/data/nimbus-eth1-benchmarks/short-benchmark/20241213T080533_650fec5a/nimbus-eth1-mainnet-master-short-benchmark-output.log
2024-12-13 08:05:33 - >>> truncating import systemd service log file
2024-12-13 08:05:33 - cat /dev/null > /home/data/nimbus-eth1-mainnet-master-short-benchmark-output.log
