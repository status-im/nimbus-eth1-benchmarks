2024-12-23 07:46:36 - >>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh
Removing blocks-import-benchmark.csv
/
2024-12-23 07:46:36 - >>> completed cleanBenchmarkDir()
2024-12-23 07:46:36 - >>> starting cloneOrFetchRepo() inside build-and-update-nimbus.sh
2024-12-23 07:46:36 - >>> cleaning repo
2024-12-23 07:46:36 - git clean -fdx > /dev/null 2>&1
2024-12-23 07:46:36 - git submodule foreach --recursive git clean -fdx > /dev/null 2>&1
2024-12-23 07:46:37 - >>> Fetching latest changes...
HEAD is now at c714fa87 Fluffy:  Rename portal_*Gossip JSON-RPC endpoints to be in line with updated portal spec (#2970)
2024-12-23 07:46:38 - >>> completed cloneOrFetchRepo()
2024-12-23 07:46:38 - >>> starting buildBinaries()
2024-12-23 07:46:38 - >>> Building binaries...
2024-12-23 07:46:38 - >>> make -j16 update
[92mBuilding:[39m Nim compiler
2024-12-23 07:48:12 - >>> make -j16 nimbus_execution_client LOG_LEVEL=DEBUG NIMFLAGS=-d:chronicles_colors=none -d:disableMarchNative
[92mBuilding:[39m install/usr/lib/libbacktrace.a
make[1]: Entering directory '/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
$DEBUG_LEVEL is 0, $LIB_MODE is static
make[1]: Leaving directory '/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
Cleaning up RocksDb build artifacts.
/bin/sh: 1: javac: not found
Building RocksDb static libraries.
[92mBuilding:[39m install/usr/lib/libbacktracenim.a
    %%  TToottaall        %%  RReecceeiivveedd  %%  XXffeerrdd    AAvveerraaggee  SSppeeeedd      TTiimmee        TTiimmee          TTiimmee    CCuurrrreenntt

                                                                  DDllooaadd    UUppllooaadd      TToottaall      SSppeenntt        LLeefftt    SSppeeeedd

    00          00        00          00        00          00            00            00  ----::----::----  ----::----::----  ----::----::----          00  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
 11  345k   11 40253    0     0  69425      0  0:00:05 --:--:--  0:00:05 69425  3 2330k    3 84917    0     0   138k      0  0:00:16 --:--:--  0:00:16  138k100  345k  100  345k    0     0   493k      0 --:--:-- --:--:-- --:--:-- 2553k
100 2330k  100 2330k    0     0  2969k      0 --:--:-- --:--:-- --:--:-- 11.7M
/usr/bin/ar: creating unity.a
[92mBuilding:[39m build/nimbus_execution_client
/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/nimbus/compile_info.nim(34, 10) Warning: *** Compiling with nimvm enabled [User]
/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/nimbus/graphql/ethapi.nim(325, 14) Warning: LedgerRef does not support loading a particular state; getLedger is deprecated [Deprecated]
2024-12-23 07:52:55 - >>> renaming binaries to match commit they were built from
2024-12-23 07:52:55 - mv build/nimbus_execution_client build/nimbus_execution_client_c714fa87
2024-12-23 07:52:55 - creating a symbolic link to the latest version
2024-12-23 07:52:55 - ln -frs build/nimbus_execution_client_c714fa87 build/nimbus_execution_client
2024-12-23 07:52:55 - deleting copies that are older than N days
2024-12-23 07:52:55 - find build -mtime +3 -exec rm '{}' \+
2024-12-23 07:52:55 - >>> buildBinaries() complete
2024-12-23 07:52:55 - skip copyTemplateDatabase() if we have already executed benchmarking for the commit c714fa87
2024-12-23 07:52:55 - find /home/data/nimbus-eth1-benchmarks/long-benchmark -type d -name *c714fa87* 2>/dev/null | wc -l
2024-12-23 07:52:55 - >>> Benchmark for c714fa87 already exists, skipping this import!
2024-12-23 07:52:55 - >>> starting moveBenchmarkingFileToRepo() inside publish-metrics-github.sh
2024-12-23 07:52:55 - >>> creating directory /home/data/nimbus-eth1-benchmarks/long-benchmark/20241223T075255_c714fa87
2024-12-23 07:52:55 - >>> copying debug-csv generated by nimbus to benchmarks repo
2024-12-23 07:52:55 - cp /home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv /home/data/nimbus-eth1-benchmarks/long-benchmark/20241223T075255_c714fa87/blocks-import-benchmark.csv
cp: cannot stat '/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv': No such file or directory
2024-12-23 07:53:55 - >>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh
Removing long-benchmark/20241223T075255_c714fa87/
/
2024-12-23 07:53:55 - >>> completed cleanBenchmarkDir()
2024-12-23 07:53:55 - >>> starting cloneOrFetchRepo() inside build-and-update-nimbus.sh
2024-12-23 07:53:55 - >>> cleaning repo
2024-12-23 07:53:55 - git clean -fdx > /dev/null 2>&1
2024-12-23 07:53:55 - git submodule foreach --recursive git clean -fdx > /dev/null 2>&1
2024-12-23 07:53:56 - >>> Fetching latest changes...
HEAD is now at c714fa87 Fluffy:  Rename portal_*Gossip JSON-RPC endpoints to be in line with updated portal spec (#2970)
2024-12-23 07:53:57 - >>> completed cloneOrFetchRepo()
2024-12-23 07:53:57 - >>> starting buildBinaries()
2024-12-23 07:53:57 - >>> Building binaries...
2024-12-23 07:53:57 - >>> make -j16 update
[92mBuilding:[39m Nim compiler
2024-12-23 07:55:32 - >>> make -j16 nimbus_execution_client LOG_LEVEL=DEBUG NIMFLAGS=-d:chronicles_colors=none -d:disableMarchNative
[92mBuilding:[39m install/usr/lib/libbacktrace.a
make[1]: Entering directory '/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
$DEBUG_LEVEL is 0, $LIB_MODE is static
make[1]: Leaving directory '/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/vendor/nim-rocksdb/vendor/rocksdb'
Cleaning up RocksDb build artifacts.
/bin/sh: 1: javac: not found
Building RocksDb static libraries.
[92mBuilding:[39m install/usr/lib/libbacktracenim.a
    %%  TToottaall        %%  RReecceeiivveedd  %%  XXffeerrdd    AAvveerraaggee  SSppeeeedd      TTiimmee        TTiimmee          TTiimmee    CCuurrrreenntt

                                                                  DDllooaadd    UUppllooaadd      TToottaall      SSppeenntt        LLeefftt    SSppeeeedd

    00          00        0 0        0  0      0  0        0  0          0  0          0  0- --:--:--:--:-- -- --:--:--:--:-- -- --:--:--:--:-- -        0 0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  345k  100  345k    0     0   521k      0 --:--:-- --:--:-- --:--:--  521k
100 2330k  100 2330k    0     0  3354k      0 --:--:-- --:--:-- --:--:-- 3354k
/usr/bin/ar: creating unity.a
[92mBuilding:[39m build/nimbus_execution_client
/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/nimbus/compile_info.nim(34, 10) Warning: *** Compiling with nimvm enabled [User]
/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/nimbus/graphql/ethapi.nim(325, 14) Warning: LedgerRef does not support loading a particular state; getLedger is deprecated [Deprecated]
2024-12-23 08:00:15 - >>> renaming binaries to match commit they were built from
2024-12-23 08:00:15 - mv build/nimbus_execution_client build/nimbus_execution_client_c714fa87
2024-12-23 08:00:15 - creating a symbolic link to the latest version
2024-12-23 08:00:15 - ln -frs build/nimbus_execution_client_c714fa87 build/nimbus_execution_client
2024-12-23 08:00:15 - deleting copies that are older than N days
2024-12-23 08:00:15 - find build -mtime +3 -exec rm '{}' \+
2024-12-23 08:00:15 - >>> buildBinaries() complete
2024-12-23 08:00:15 - skip copyTemplateDatabase() if we have already executed benchmarking for the commit c714fa87
2024-12-23 08:00:15 - find /home/data/nimbus-eth1-benchmarks/long-benchmark -type d -name *c714fa87* 2>/dev/null | wc -l
2024-12-23 08:00:15 - BENCHMARK_EXISTS=0
2024-12-23 08:00:15 - >>> starting cloneOrFetchRepo() inside fetch-benchmarks.sh
2024-12-23 08:00:15 - >>> creating directory /home/data/nimbus-eth1-benchmarks
2024-12-23 08:00:15 - >>> Fetching latest benchmarks from github
HEAD is now at a01e2a8 clean: remove incomplete benchmark
2024-12-23 08:00:17 - >>> completed cloneOrFetchRepo()
INF 2024-12-23 08:00:17.353+00:00 Launching execution client                 version=v0.1.0-c714fa87 conf="(dataDir: /home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/data/shared_mainnet_0, era1DirOpt: some(/data/era1), eraDirOpt: some(/data/era), keyStore: /home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/data/shared_mainnet_0/keystore, chainDbMode: Aristo, importKey: , evm: \"\", trustedSetupFile: none(string), extraData: \"nimbus-eth1/v0.1.0-c714fa87\", gasLimit: 36000000, network: \"mainnet\", customNetwork: none(NetworkParams), networkId: 1, networkParams: (config: ..., genesis: ...), logLevel: INFO, logFile: none(OutFile), logMetricsEnabled: false, logMetricsInterval: 10, metricsEnabled: false, metricsPort: 9093, metricsAddress: 127.0.0.1, bootstrapNodes: @[], bootstrapFile: , bootstrapEnrs: @[], staticPeers: @[], staticPeersFile: , staticPeersEnrs: @[], reconnectMaxRetry: 0, reconnectInterval: 15, listenAddress: ::, tcpPort: 30303, udpPort: 0, maxPeers: 25, nat: (hasExtIp: false, nat: NatAny), discovery: V4, netKey: \"random\", agentString: \"nimbus-eth1/v0.1.0-c714fa87/linux-amd64/Nim-2.0.12/nimvm\", numThreads: 0, beaconChunkSize: 0, rocksdbMaxOpenFiles: 2048, rocksdbWriteBufferSize: 67108864, rocksdbRowCacheSize: 0, rocksdbBlockCacheSize: 2684354560, rdbVtxCacheSize: 536870912, rdbKeyCacheSize: 268435456, rdbBranchCacheSize: 1073741824, rdbPrintStats: false, cmd: import, maxBlocks: 5000, chunkSize: 8192, csvStats: some(\"/home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv\"), fullValidation: false, noValidation: true, storeBodies: false, storeReceipts: false, storeSlotHashes: false)"
INF 2024-12-23 08:00:18.909+00:00 Writing data dir ID                        ID=0x678887bfffac11f5a4f5d96943d3e10f2fb9662cc7f46e89790cf3218bbcedf3
INF 2024-12-23 08:00:18.913+00:00 Threadpool started                         numThreads=16
INF 2024-12-23 08:00:18.941+00:00 Writing genesis to DB                      blockHash=0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3 stateRoot=0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544 difficulty=17179869184 gasLimit=5000 timestamp=0 nonce=0x0000000000000042
INF 2024-12-23 08:00:18.941+00:00 Database initialized                       base="(0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3, 0)" finalized="(0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3, 0)" head="(0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3, 0)"
NTC 2024-12-23 08:00:18.941+00:00 Importing era1 archive                     start=1 dataDir=/home/data/nimbus-eth1-mainnet-master-long-benchmark/repo/data/shared_mainnet_0 era1Dir=/data/era1
INF 2024-12-23 08:00:19.065+00:00 Imported blocks                            blockNumber=5001 slot=1 blocks=5000 txs=0 mgas=0.000 bps=40757 tps=0.000 mgps=0.000 avgBps=40757 avgTps=0.000 avgMGps=0.000 elapsed=122ms676us736ns
NTC 2024-12-23 08:00:19.065+00:00 Import complete                            blockNumber=5001 slot=1 blocks=5000 txs=0 mgas=0.000
2024-12-23 08:00:19 - >>> starting moveBenchmarkingFileToRepo() inside publish-metrics-github.sh
2024-12-23 08:00:19 - >>> creating directory /home/data/nimbus-eth1-benchmarks/long-benchmark/20241223T080019_c714fa87
2024-12-23 08:00:19 - >>> copying debug-csv generated by nimbus to benchmarks repo
2024-12-23 08:00:19 - cp /home/data/nimbus-eth1-benchmarks/blocks-import-benchmark.csv /home/data/nimbus-eth1-benchmarks/long-benchmark/20241223T080019_c714fa87/blocks-import-benchmark.csv
2024-12-23 08:00:19 - >>> completed moveBenchmarkingFileToRepo()
2024-12-23 08:00:19 - >>> copying import systemd service log file to benchmarks repo
2024-12-23 08:00:19 - cp /home/data/nimbus-eth1-mainnet-master-long-benchmark-output.log /home/data/nimbus-eth1-benchmarks/long-benchmark/20241223T080019_c714fa87/nimbus-eth1-mainnet-master-long-benchmark-output.log
2024-12-23 08:00:19 - >>> truncating import systemd service log file
2024-12-23 08:00:19 - cat /dev/null > /home/data/nimbus-eth1-mainnet-master-long-benchmark-output.log
